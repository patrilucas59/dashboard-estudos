<div class="bg-white rounded-lg border border-slate-200 shadow-sm overflow-hidden">
    <div class="overflow-x-auto">

        <table class="w-full">
        <thead class="bg-slate-50 border-b border-slate-200">
            <tr>
                <th class="table-head-cell">Matéria / Tópico</th>
                <th class="table-head-cell">Data</th>
                <th class="table-head-cell">Horário</th>
                <th class="table-head-cell">Duração</th>
                <th class="table-head-cell">Status</th>
                <th class="w-12 px-6 py-4"></th>
            </tr>
        </thead>

            <tbody>
                    <tr
                    *ngFor="let s of studies"
                    class="border-b-0 transition"
                    [ngClass]="{
                        'bg-blue-50 border-l-4 border-blue-500': s.status === 'em-andamento',
                        'bg-slate-50': s.status === 'planejado'
                    }"
                    >


                    <td class="px-6 py-4">
                        <h3 class="font-semibold">{{ s.subject }}</h3>
                        <p class="text-sm text-gray-600">{{ s.topic }}</p>
                    </td>

                    <td class="px-6 py-4 text-sm">{{ s.date }}</td>
                    
                    <td class="px-6 py-4 text-sm">{{ s.startTime }}</td>

                    <td class="px-6 py-4 text-sm">{{ s.duration }}</td>

                    <td class="px-6 py-4">
                        <span 
                            [ngClass]="statusConfig[s.status].bg"
                            class="px-3 py-1 rounded-full text-xs flex items-center gap-1 w-max"
                            >
                        <lucide-icon 
                            [name]="statusConfig[s.status].icon"
                            class="h-4 text-center">
                        </lucide-icon>
                        {{ statusConfig[s.status].label }}
                        </span>
                    </td>

                    <td class="relative px-6 py-4 text-right">
                        <lucide-icon 
                        name="ellipsis-vertical"
                        class="cursor-pointer"
                        [ngClass]="{
                            'text-gray-400': s.status === 'concluido',
                            'text-gray-600': s.status !== 'concluido'
                        }"
                        (click)="toggleMenu(s.id)">
                        </lucide-icon>


                        <div *ngIf="openMenuId === s.id"
                        class="absolute right-6 mt-2 w-50 bg-white border border-slate-200 rounded-lg
                        shadow-lg z-50">
                            <ul class="py-1 text-sm text-center hover">
                                <li *ngIf="s.status === 'em-andamento'"
                                 class="px-4 py-2 cursor-pointer transition-colors hover:bg-slate-100">
                                    Marcar como concluído
                                </li>
                                <li *ngIf="s.status === 'em-andamento'"
                                 class="px-4 py-2 cursor-pointer transition-colors hover:bg-slate-100">
                                    Marcar sessão
                                </li>
                                <li *ngIf="s.status === 'planejado'"
                                 class="px-4 py-2 cursor-pointer transition-colors hover:bg-slate-100">
                                    Iniciar sessão
                                </li>
                                <li *ngIf="s.status === 'concluido'"
                                 class="px-4 py-2 cursor-pointer transition-colors hover:bg-slate-100">
                                    Reabrir sessão
                                </li>
                                <li class="px-4 py-2 cursor-pointer transition-colors hover:bg-slate-100 text-red-600">
                                    Excluir
                                </li>
                            </ul>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>